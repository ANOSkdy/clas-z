@import "tailwindcss";

@theme {
  --color-primary: #906890;
  --color-primary-fg: #ffffff;
  --color-danger: #ef4444;
}

:root {
  /* Brand & semantic palette */
  --color-primary-plum-500: #dda0dd;
  --color-primary-plum-700: #906890;
  --color-primary-plum-800: #6c4e6c;
  --color-primary-salmon-500: #f08080;
  --color-primary-salmon-700: #af5d5d;
  --color-primary-salmon-800: #844646;
  --color-bg: #ffffff;
  --color-surface: #f8fafc;
  --color-surface-2: #eef2ff;
  --color-text: #111111;
  --color-border: #d1d5db;
  --color-focus: #1f2937;
  --color-danger: #dc2626;
  --color-success: #16a34a;
  --color-warning: #d97706;

  /* Shadow tokens */
  --shadow-soft: 0 8px 24px rgba(17, 24, 39, 0.08);
  --shadow-strong: 0 16px 42px rgba(17, 24, 39, 0.16);

  /* Motion tokens */
  --motion-duration-fast: 150ms;
  --motion-duration-medium: 220ms;
  --motion-duration-slow: 320ms;
  --motion-easing-standard: cubic-bezier(0.2, 0.8, 0.2, 1);
  --motion-easing-emphasized: cubic-bezier(0.16, 1, 0.3, 1);
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Optional: define dark palette when needed */
  }
}

* {
  box-sizing: border-box;
}

body {
  color: var(--color-text);
  background: radial-gradient(circle at 20% 20%, rgba(221, 160, 221, 0.14), transparent 32%),
    radial-gradient(circle at 80% 0%, rgba(240, 128, 128, 0.12), transparent 30%),
    var(--color-bg);
  font-family: "Noto Sans JP", system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
}

@layer utilities {
  .focus-ring {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(144, 104, 144, 0.35);
    transition: box-shadow var(--motion-duration-fast) var(--motion-easing-standard),
      transform var(--motion-duration-fast) var(--motion-easing-standard);
  }

  .surface-card {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.94));
    border: 1px solid rgba(209, 213, 219, 0.7);
    box-shadow: var(--shadow-soft);
  }
}

.page-transition {
  animation: fadeSlideIn var(--motion-duration-medium) var(--motion-easing-standard);
}

.nav-indicator {
  position: absolute;
  inset: 6px;
  width: calc(100% - 12px);
  height: 44px;
  margin: 0 auto;
  background: linear-gradient(135deg, var(--color-primary-plum-700), var(--color-primary-salmon-700));
  border-radius: 999px;
  box-shadow: var(--shadow-soft);
  transition: transform var(--motion-duration-medium) var(--motion-easing-emphasized),
    opacity var(--motion-duration-medium) var(--motion-easing-standard);
  z-index: 0;
}

.nav-indicator.is-hidden {
  opacity: 0;
}

.skeleton {
  position: relative;
  overflow: hidden;
  background: linear-gradient(120deg, #eef2ff 25%, #f8fafc 50%, #eef2ff 75%);
  background-size: 200% 100%;
  animation: shimmer 1.6s infinite;
}

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }

  .page-transition,
  .nav-indicator,
  .skeleton {
    animation: none !important;
    transition: none !important;
  }
}
